<!DOCTYPE html>
<html lang="az">
<head>
  <meta charset="UTF-8">
  <title>IPTV Oynadıcı</title>
  <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
</head>
<body>
  <select id="channelList"></select>
  <video id="video" controls width="100%" height="400"></video>
  <script>
    // Burada öz siyahınızı əlavə edin
    const channels = [
      { name: "Kanl 1", url: "http://rtmp.apa.tv/@pagroup!23.m3u8" },
      { name: "Kanal 2", url: "https://example.com/kanal2.m3u8" },
      // Daha çox kanal əlavə edin
    ];

    // Siyahını select-ə doldururuq
    const channelList = document.getElementById('channelList');
    channels.forEach((channel, idx) => {
      const option = document.createElement('option');
      option.value = channel.url;
      option.textContent = channel.name;
      channelList.appendChild(option);
    });

    var video = document.getElementById('video');
    function playChannel(url) {
      if (Hls.isSupported()) {
        var hls = new Hls();
        hls.loadSource(url);
        hls.attachMedia(video);
        hls.on(Hls.Events.MANIFEST_PARSED, function () {
          video.play();
        });
      } else if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = url;
        video.addEventListener('loadedmetadata', function () {
          video.play();
        });
      }
    }

    // İlk kanalı avtomatik aç
    playChannel(channelList.value);

    // Kanal dəyişəndə oynatma
    channelList.addEventListener('change', function() {
      playChannel(this.value);
    });
  </script>
</body>
</html>
